# 네트워크의 기초

## 네트워크란?

**노드**와 **링크**가 서로 연결되어 있으며 리소스를 공유하는 집합

-> 노드 : 서버, 라우터, 스위치 등 유/무선으로 연결된 네트워크 장치

## 처리량과 지연 시간

### 처리량( throughput )

링크 내에서 성공적으로 전달된 **데이터의 양** 을 뜻하며 "많은 **트래픽**을 처리한다"는 "많은 처리량을 가진다"와 같다.

**bps**(초당 비트수) 단위를 사용하며 **트래픽**의 양, 네트워크 장치간의 **대역폭**, 네트워크 통신 중 발생되는 **에러**, 장치의 **하드웨어 스펙**에 영향을 받는다

-> **트래픽** : 특정 시점에 링크 내에 흐르고 있는 데이터의 양. 트래픽이 *성공적으로* 처리될때 트래픽을 *처리했다* 라고 한다

-> **대역폭** : 주어진 *시간*동안 네트워크를 통해 흐를 수 있는 **최대 비트 수**

### 지연시간( latency)

요청이 **처리되는 시간**을 뜻하며 데이터가 두 네트워크 장치 사이를 **왕복**하는데 걸리는 시간이다.

지연시간은 **매체 타입(유/무선)**, **패킷의 크기**, 라우터의 **패킷 처리능력**에 영향을 받는다

## 네트워크 토폴로지와 병목현상

### 네트워크 토폴로지

노드와 링크가 어떻게 *배치*되어 있는지에 대한 방식이나 **연결형태**

1. **트리** 토폴로지 (계층형 토폴로지)

계층을 가진 트리형태의 네트워크 구성

장점 : 노드의 *추가,삭제*가 용이하다

단점 : *상위 노드*에 트래픽이 집중되면 *하위노드*에 영향을 끼칠 수 있다

2. **버스**토폴로지

**중앙의 통신회선 하나**에 여러개의 노드가 연결되는 방식. **근거리 통신**에 용이하다

장점 : *설치비용*이 적고 노드의 *추가,삭제*가 쉽다

단점 : **스푸핑**이 가능하다

-> **스푸핑** : 패킷을 전달하는 *스위칭 기능을 마비*시켜 특정노드에서 패킷을 *가로채도록* 하는것

3. **스타** 토폴로지

**중앙의 노드 하나**에 여러개의 다른 노드가 연결되는 방식.

장점 : 노드 *추가* 및 *에러 제어*가 쉽고 패킷의 *충돌 가능성이 적다*. 한 노드의 에러가 *다른 노드에 영향*을 끼치지 않는다

단점 : *중앙노드 장애*에 취약하며 *설치비용이 비싸다*

4. **링**형 토폴로지

모든 노드들이 **하나의 띠** 위에서 **양옆의 노드**와 연결된 형태. 데이터는 **노드에서 노드로** 이동한다

장점 : 노드 수 증가에 따른 *네트워크 손실*이 없다. *충돌*이 적게 일어난다. 노드의 *장애 여부*를 쉽게 판별할 수 있다.

단점 : 노드 *구성변경*이 어렵다. *회선 장애*에 취약하다

5. **메시** 토폴로지( 망형 토폴로지)

**모든 노드**가 **그물망**처럼 연결되어 있는 구조

장점 : *노드 장애*가 *네트워크에 영향*을 미치지 않는다. *트래픽의 분산*이 가능하다

단점 : 노드 *추가*가 어렵다. *설치 및 운용비용*이 높다

### 병목현상

**전체 시스템**이 **하나의 구성요소**로 인해 **제한**이 발생하는 현상으로 **네트워크 토폴로지를 결정**하는데 중요한 기준이다.

**대역폭**을 넓히거나 **회선을 추가**하는 방법으로 완화할 수 있다

## 네트워크 분류

네트워크는 규모를 기반으로 분류할 수 있으며 개인적인 규모의 LAN( local area network ), 서울시 등 지역 규모인 MAN( metropolitan area network), 세계규모인 WAN( wide area network )이 있다

### LAN( Local Area Network )

**근거리 통신망**을 의미하며 좁은 공간에서 이루어진다. *전송속도*가 **빠르며** *혼잡도*가 가장 **낮다**

### MAN( Metropolitan Area Network )

**대도시 지역 네트워크**를 의미하며 넓은 지역에서 이루어진다. LAN과 WAN의 **중간정도**의 전송속도, 혼잡도를 가진다

### WAN( Wide Area Network )

**광역 네트워크**를 의미하며 *전송속도*가 제일 **느리고** *혼잡도*가 제일 **높다**

## 네트워크 성능 분석 명령어

코드나 알고리즘상의 문제가 없다고 가정할 때 네트워크는 아래 원인들에 의한 병목현상으로 장애를 가질 수 있다

- 네트워크 **대역폭**
- 네트워크 **토폴로지**
- 서버 및 CPU **사용량**
- 네트워크의 **비효율적인 구성**

이를 확인하기 위해 사용되는 대표적인 명령어가 있다

### ping( Packet INternet Groper )

대상 노드의 **일정 크기의 패킷**을 전송하는 명령어. 해당 명령어로 아래 정보를 알 수 있다

- 해당 노드의 **패킷 수신 여부**
- 해당 노드까지의 **네트워크 연결 여부**
- 패킷이 **도착하기까지** 걸리는 **시간**

ping은 **TCP/IP** 프로토콜의 **ICMP**프로토콜을 통해 동작하기 때문에 ICMP를 지원하지 않거나 해당 프로토콜을 차단하는 노드 상대로는 ping을 실행할 수 없다

### netstat

**접속되어있는** 서비스들의 **네트워크상태**를 표시하는데 사용하며 아래의 정보를 보여준다

- **접속한 네트워크** 목록
- **라우팅 테이블**
- 네트워크 **프로토콜**

주로 전송받은 패킷들이 **사용중인 로컬노드의 포트**를 확인하는데 사용한다

### nslookup

**DNS**에 관련된 내용을 확인하기 위해 사용된다. 특정 **IP에 매핑된 도메인**을 확인하는데 사용한다

### tracert( 윈도우 : traceroute )

목적지인 노드까지의 **네트워크 경로**를 확인하는데 사용한다. **어떤 구간**에서 **응답시간이 느려지는지** 확인할 수 있다.

## 네트워크 프로토콜 표준화

-> **네트워크 프로토콜** : 노드간 데이터 송수신을 위해 설정된 **공통의 인터페이스**. 개인이나 기업이 정하는것이 아닌 **IEEE**, **IETF**의 **국제적인 표준화 단체**가 결정한다. 네트워크 표준화를 통해 **서로 다른 출처**의 장치들도 알맞은 **프로토콜**을 사용하여 통신이 가능하다.