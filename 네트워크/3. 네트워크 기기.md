# 네트워크 기기의 처리 범위

네트워크 기기는 기기가 **처리 가능한 계층**별로 분류할 수 있다. **상위 계층**을 처리하는 기기는 그보다 **하위 계층을 처리할 수 있지만** 하위 계층의 기기는 상위 계층을 처리할 수 없다. 각 계층별 기기는 아래와 같다

- 어플리케이션 계층 : **L7 스위치**
- 인터넷 계층 : **L3 스위치, 라우터**
- 데이터링크 계층 : **L2 스위치, 브리지**
- 물리 계층 : **리피터, AP, NIC**

-> **스위치** : 여러 장비가 연결되어 통신을 중재하며 **알맞은 목적지가 연결된 포트로 데이터를 전송**하는 통신 네트워크 장비

## 어플리케이션 계층을 처리하는 기기

### L7 스위치( 로드 밸런서 )

서버의 **부하를 분산하는 기기**로 클라이언트로부터 오는 요청들을 **뒤의 여러 서버로 분산**시켜 서버가 **처리하는 트래픽을 증가**시킨다. URL,서버,캐시,쿠키 등의 정보를 기반으로 트래픽을 분산시키며 불필요한 데이터를 걸러내는 **필터링** 기능, **트래픽 모니터링** 또한 가능하다.

서버에 **장애**가 발생하면 **헬스 체크**를 이용하여 트래픽 분산 대상에서 제외한다

1. **헬스 체크**

특정 **전송 주기** 및 **재전송 횟수**를 설정하여 서버에 **지속적으로 요청을 보내는 것**이다. 이 요청을 서버가 **정상적으로 수신하지 못한다면 문제가 발생한 서버**로 판단한다. 헬스체크는 TCP, HTTP 등 **다양한 방법**으로 요청을 전송하며 서버에 **부하가 걸리지 않도록** 전송 주기와 재전송 횟수를 설정하는 것이 중요하다.

2. 로드 밸런서( L7 )를 이용한 **서버 이중화**

**서버 이중화**는 **같은 내용의 서버를 2대 이상 유지하는 것**을 말한다. 로드 밸런서는 **클라이언트에게 제공된 가상 IP**를 통해 수신된 데이터를 수신하여 로드 밸런서에 연결된 **뒷 서버** 중 사용가능한 서버에 데이터를 전송한다. 이를 통해 **하나의 뒷서버에서 문제가 발생**해도 로드 밸런서가 **같은 내용의 다른 서버**에게 수신된 데이터 전달할 수 있다.

3. **L4** 스위치와 **L7** 스위치의 차이

**L4 스위치**는 L7과 같은 로드밸런서 이지만 L4 스위치의 경우 **전송 계층**을 처리하며 오직 **IP와 포트만으로 트래픽을 분산**한다. 또한 **스트리밍** 관련 서비스에서는 L4를 사용할 수 없다.

## 인터넷 계층을 처리하는 기기

### 라우터

네트워크를 **연결,분할,구분**하는 장치로 **다른 네트워크**에 존재하는 장치와의 데이터 송수신에서 발생하는 **패킷 소모를 최소화**하고 목적지까지의 **최소 경로**로 패킷을 전송하도록 **패킷 포워딩**을 진행하는 장치이다. 크게 **소프트웨어 기반**의 라우팅 장비와 **하드웨어 기반**의 라우팅 장비로 분류할 수 있다.

### L3 스위치

**라우터**의 기능과 **L2 스위치**의 기능을 동시에 갖춘 장비로 **하드웨어 기반**의 라우팅 장비이다.

## 데이터 링크 계층을 처리하는 기기

### L2 스위치

**MAC 주소**를 기반으로 패킷을 알맞은 MAC주소에 전달하는 장치로 **MAC 주소 테이블**을 통해 관리한다. **IP주소를 읽지 못하며** MAC 테이블에 알맞은 주소가 **없다면** **전체 포트에 데이터를 전달**하며 MAC 주소 테이블의 주소를 **일정시간 후에 삭제**하며 테이블을 관리한다.

### 브리지

**두개의 LAN( 근거리 통신망 )을 연결**해주는 장치로 L2스위치와 동일하게 **MAC주소 테이**블로 통신을 관리한다.

## 물리 계층을 처리하는 기기

### NIC( Network Interface Card )

컴퓨터가 **빠르게** 통신할 수 있도록 **컴퓨터에 직접 설치**하는 확장 카드로 **LAN 카드**라고도 불리며 **고유의 MAC주소**를 가지고 있다.

### 리피터

약해진 신호를 **증폭**시켜 더 멀리 갈 수 있도록 하는 장치. 광케이블의 등장으로 인해 잘 쓰이지 않는다

### AP( Access Point )

**패킷을 복사**하는 장치로 AP에 **유선 LAN을 장착**하면 와이파이 등의 무선통신을 이용하여 **무선LAN으로 AP에 연결**할 수 있다.